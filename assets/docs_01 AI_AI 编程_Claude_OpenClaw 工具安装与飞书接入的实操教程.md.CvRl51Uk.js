import{_ as a,c as n,o as s,a4 as p}from"./chunks/framework.4aTu-Nia.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/01 AI/AI 编程/Claude/OpenClaw 工具安装与飞书接入的实操教程.md","filePath":"docs/01 AI/AI 编程/Claude/OpenClaw 工具安装与飞书接入的实操教程.md"}'),t={name:"docs/01 AI/AI 编程/Claude/OpenClaw 工具安装与飞书接入的实操教程.md"},e=p(`<p>最近爆火的 OpenClaw，看到很多人在一些热门视频下面私信问同一个问题：能不能把它接进飞书，在群里直接@AI 干活？</p><p>我现在已经不在浏览器里用 AI 了，在飞书群里@以下我的 AI 助理，3 秒内它就能帮我找素材、一键总结网页、PDF、YouTube视频、音频，相当于在本地部署了一个专属自己的大模型 Agent</p><p>今天这份保姆级教程，从环境准备到飞书配置，每一步都带截图和命令——不需要懂代码，跟着做就一定能跑通，从安装到能用，只要 30 分钟</p><h2 id="一、效果展示" tabindex="-1">一、效果展示 <a class="header-anchor" href="#一、效果展示" aria-label="Permalink to &quot;一、效果展示&quot;">​</a></h2><p>1）找素材</p><p>2）总结网页</p><p>3）多 Agent 协作</p><p>4）定时任务</p><p>5）搜索竞品动态</p><h2 id="二、前置准备" tabindex="-1">二、前置准备 <a class="header-anchor" href="#二、前置准备" aria-label="Permalink to &quot;二、前置准备&quot;">​</a></h2><p>1）一台云服务器：👉 部署 OpenClaw，我下面教你怎么买</p><p>2）一个大模型 API Key（必须）：👉 支持 OpenAI / Claude / 兼容接口</p><p>3）一个飞书企业账号：👉 用来创建机器人</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226193335.png" alt=""></p><h2 id="三、实现步骤" tabindex="-1">三、实现步骤 <a class="header-anchor" href="#三、实现步骤" aria-label="Permalink to &quot;三、实现步骤&quot;">​</a></h2><h3 id="_1、购买服务器" tabindex="-1">1、购买服务器 <a class="header-anchor" href="#_1、购买服务器" aria-label="Permalink to &quot;1、购买服务器&quot;">​</a></h3><p>这里以腾讯云为例，腾讯云 Lighthouse 的 OpenClaw 模板，系统预装好、环境配好、依赖跑好，你只需要填几个配置项，另外腾讯云海外服务器可直接访问国外大模型</p><p>1）<strong>点击“立即部署我的 AI 助理”</strong></p><p><a href="https://cloud.tencent.com/act/pro/lighthouse-moltbot" target="_blank" rel="noreferrer">https://cloud.tencent.com/act/pro/lighthouse-moltbot</a></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225223027.png" alt=""></p><p>2）<strong>选择轻量应用服务器</strong></p><p>推荐 2 核 4 G 的套餐，点击「立即购买按钮」之后，会跳转到海外轻量应用服务器购买配置页面</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225232056.png" alt=""></p><p>3）<strong>服务器配置选择</strong></p><p>地域：如果后面也想接入 Telegram ，选择硅谷；否则选择国内</p><p>镜像：选择最新 OpenClaw 镜像即可</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225232318.png" alt=""></p><p>4）<strong>支付</strong></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225232521.png" alt=""></p><h3 id="_2、获取大模型-api-key" tabindex="-1">2、获取大模型 API key <a class="header-anchor" href="#_2、获取大模型-api-key" aria-label="Permalink to &quot;2、获取大模型 API key&quot;">​</a></h3><p>可以使用支持 OpenAI / Claude / 协议的大模型或者中转站，大模型推荐 Kimi 2.5，中转站推荐 aicodemirror</p><p>这里以 Kimi 为例，打卡 <a href="https://platform.moonshot.cn/console/api-keys" target="_blank" rel="noreferrer">https://platform.moonshot.cn/console/api-keys</a></p><p>点击新建 API Key</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260221171130.png" alt=""></p><p>Kimi 默认用户等级为 Tier0，每日用量有限制，如果使用需求比较高，可以进行充值</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226214122.png" alt=""></p><p>充值 50 即可升级到 Tier 1 级别</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226214152.png" alt=""></p><h3 id="_3、获取飞书-api-key" tabindex="-1">3、获取飞书 API key <a class="header-anchor" href="#_3、获取飞书-api-key" aria-label="Permalink to &quot;3、获取飞书 API key&quot;">​</a></h3><p>1）<strong>创建企业自建应用</strong></p><blockquote><p>使用自己的飞书账号登录飞书开放平台（<a href="https://open.feishu.cn/app?lang=zh-CN" target="_blank" rel="noreferrer">https://open.feishu.cn/app?lang=zh-CN</a>），点击“创建企业自建应用”按钮</p></blockquote><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225234158.png" alt=""></p><p>2）<strong>填写应用名称和描述</strong></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225234329.png" alt=""></p><p>3）<strong>添加飞书机器人</strong></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225234525.png" alt=""></p><p>5、<strong>事件与回调配置</strong></p><p>去飞书开放平台，应用管理页，左侧导航栏点“事件与回调”，在“事件配置” Tab 下，选择订阅方式为“使用长连接接收事件” 并保存</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225235500.png" alt=""></p><p>去飞书开放平台，应用管理页，左侧导航栏点“事件与回调”，在“回调配置” Tab 下，选择订阅方式为“使用长连接接收事件” 并保存</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226000118.png" alt=""></p><p>点击“添加事件”，搜索并添加接收消息（必选），其他按需选</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225235840.png" alt=""></p><p>可以将下面几个事件都添加上</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226000047.png" alt=""></p><p>6、<strong>权限配置</strong></p><p>在飞书应用管理页，左侧导航栏找到 “权限管理” ，点击进入页面。点击页面中的 “批量导入权限” 按钮，弹出权限导入窗口，复制下面的 json 字符串</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226001501.png" alt=""></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;scopes&quot;: {</span></span>
<span class="line"><span>    &quot;tenant&quot;: [</span></span>
<span class="line"><span>      &quot;aily:file:read&quot;,</span></span>
<span class="line"><span>      &quot;aily:file:write&quot;,</span></span>
<span class="line"><span>      &quot;application:application.app_message_stats.overview:readonly&quot;,</span></span>
<span class="line"><span>      &quot;application:application:self_manage&quot;,</span></span>
<span class="line"><span>      &quot;application:bot.menu:write&quot;,</span></span>
<span class="line"><span>      &quot;cardkit:card:write&quot;,</span></span>
<span class="line"><span>      &quot;contact:contact.base:readonly&quot;,</span></span>
<span class="line"><span>      &quot;contact:user.employee_id:readonly&quot;,</span></span>
<span class="line"><span>      &quot;corehr:file:download&quot;,</span></span>
<span class="line"><span>      &quot;docs:document.content:read&quot;,</span></span>
<span class="line"><span>      &quot;event:ip_list&quot;,</span></span>
<span class="line"><span>      &quot;im:chat&quot;,</span></span>
<span class="line"><span>      &quot;im:chat.access_event.bot_p2p_chat:read&quot;,</span></span>
<span class="line"><span>      &quot;im:chat.members:bot_access&quot;,</span></span>
<span class="line"><span>      &quot;im:chat:readonly&quot;,</span></span>
<span class="line"><span>      &quot;im:message&quot;,</span></span>
<span class="line"><span>      &quot;im:message.group_at_msg:readonly&quot;,</span></span>
<span class="line"><span>      &quot;im:message.group_msg&quot;,</span></span>
<span class="line"><span>      &quot;im:message.p2p_msg:readonly&quot;,</span></span>
<span class="line"><span>      &quot;im:message:readonly&quot;,</span></span>
<span class="line"><span>      &quot;im:message:send_as_bot&quot;,</span></span>
<span class="line"><span>      &quot;im:resource&quot;,</span></span>
<span class="line"><span>      &quot;sheets:spreadsheet&quot;,</span></span>
<span class="line"><span>      &quot;wiki:wiki:readonly&quot;</span></span>
<span class="line"><span>    ],</span></span>
<span class="line"><span>    &quot;user&quot;: [</span></span>
<span class="line"><span>      &quot;aily:file:read&quot;,</span></span>
<span class="line"><span>      &quot;aily:file:write&quot;,</span></span>
<span class="line"><span>      &quot;contact:contact.base:readonly&quot;,</span></span>
<span class="line"><span>      &quot;im:chat.access_event.bot_p2p_chat:read&quot;</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>7、<strong>创建版本并发布</strong></p><p>创建版本 1.0.0，填写版本号和更新说明，申请发布</p><blockquote><p>注意每次修改都会重新发布</p></blockquote><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226000249.png" alt=""></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226000338.png" alt=""></p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226000436.png" alt=""></p><p>8、<strong>复制 AppID 和 AppSecret</strong></p><p>点击左侧导航栏“凭据与基础信息”，在页面找到 AppID 和 AppSecret 并复制保存，后面会使用</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225234752.png" alt=""></p><h3 id="_4、大模型配置和飞书配置" tabindex="-1">4、大模型配置和飞书配置 <a class="header-anchor" href="#_4、大模型配置和飞书配置" aria-label="Permalink to &quot;4、大模型配置和飞书配置&quot;">​</a></h3><p>1）<strong>进入服务器管理界面</strong></p><p>打开 <a href="https://console.cloud.tencent.com/lighthouse/instance/index?rid=15" target="_blank" rel="noreferrer">https://console.cloud.tencent.com/lighthouse/instance/index?rid=15</a></p><p>右键选择管理实例</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225232850.png" alt=""></p><p>2）<strong>大模型配置</strong></p><p>切换应用管理 Tab 页，进行模型设置</p><p>模型配置：选择 Moonshot AI（Kimi 国内），粘贴前面复制的大模型 API key</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226204558.png" alt=""></p><p>如果想使用自定义模型，则选择“自定义模型”，然后按下面对应模版填写到输入内容中</p><p>可以接入任何兼容 OpenAI/Anthropic 协议的模型，base_url 也可以是中转站</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225233724.png" alt=""></p><p>3）<strong>飞书配置</strong></p><p>切换应用管理 Tab 页，进行通道设置</p><p>通道配置：选择飞书，粘贴前面复制的飞书 API key 和 API Secret</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260225235111.png" alt=""></p><p>点击添加会弹出“自动重启 Gateway 服务”，点击确定即可</p><h2 id="四、使用" tabindex="-1">四、使用 <a class="header-anchor" href="#四、使用" aria-label="Permalink to &quot;四、使用&quot;">​</a></h2><p>打开飞书 App 搜索机器人名称，比如我这里是 OpenClaw-木川，发条消息测试</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226011559.png" alt=""></p><p>复制最后一行命令，在服务器命令行执行</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226011641.png" alt=""></p><p>再次发送就正常回复了</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226011727.png" alt=""></p><h2 id="五、常见问题" tabindex="-1">五、常见问题 <a class="header-anchor" href="#五、常见问题" aria-label="Permalink to &quot;五、常见问题&quot;">​</a></h2><p>如果飞书机器人无响应，可能是 openclaw 服务或者飞书权限问题，根据下面的步骤进行排查和修复</p><h3 id="_1-、查看-openclaw-服务状态" tabindex="-1">1 、查看 openclaw 服务状态 <a class="header-anchor" href="#_1-、查看-openclaw-服务状态" aria-label="Permalink to &quot;1 、查看 openclaw 服务状态&quot;">​</a></h3><p>打开 <a href="https://console.cloud.tencent.com/lighthouse/instance/index?rid=15" target="_blank" rel="noreferrer">https://console.cloud.tencent.com/lighthouse/instance/index?rid=15</a></p><p>点击登陆服务器，身份验证后即可登录到面板</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226210754.png" alt=""></p><p>输入命令 <code>openclaw gateway status</code>，可以查看 openclaw 是否正常工作</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226003458.png" alt=""></p><p>最前面几行显示错误：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>gateway connect failed: Error: unauthorized: gateway token mismatch (set gateway.remote.token to match gateway.auth.token)</span></span></code></pre></div><p>执行 <code>openclaw doctor --repair</code> 进行自我修复</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226003650.png" alt=""></p><p>然后重新执行 <code>openclaw gateway status</code> 查看服务状态</p><p>如果没有上述报错信息，则表示服务正常</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226211137.png" alt=""></p><p>如果仍然不行执行 openclaw doctor ，可能是 runtime 环境问题，根据提示执行 openclaw doctor -fix 修复</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226012028.png" alt=""></p><h3 id="_2、查看飞书日志" tabindex="-1">2、查看飞书日志 <a class="header-anchor" href="#_2、查看飞书日志" aria-label="Permalink to &quot;2、查看飞书日志&quot;">​</a></h3><p>如果 openclaw 服务没问题，飞书机器人仍无响应，一般是飞书权限未添加，可以通过查看日志判断是否是权限问题</p><p>点击左侧“日志检索”，搜索 FAIL 状态日志，根据错误信息添加相关权限即可</p><p><img src="https://muchuang-img.oss-cn-beijing.aliyuncs.com/20260226211319.png" alt=""></p><hr><h2 id="六、结尾" tabindex="-1">六、结尾 <a class="header-anchor" href="#六、结尾" aria-label="Permalink to &quot;六、结尾&quot;">​</a></h2><p>装完 OpenClaw、接好飞书，你只是搭好了一座桥。</p><p>以前的工作流是：</p><p>浏览器 → 复制链接 → 打开 AI → 粘贴 → 等结果 → 再复制回飞书。</p><p>现在是：</p><p>飞书里 @一下。</p><p>区别不只是快了几秒，而是少了一层心理阻力。<br> 当调用 AI 的成本足够低，你就会越来越频繁地用它。<strong>最好的工具，是你会每天打开的工具</strong></p><p>效率不是来自更努力，而是来自更顺手。</p><p>如果你已经部署完成，恭喜——你拥有的不是一个机器人，而是一条新的生产力通道。</p><p>欢迎留言告诉我： 你第一个让它完成的任务是什么？</p>`,124),o=[e];function i(c,l,r,g,u,m){return s(),n("div",null,o)}const b=a(t,[["render",i]]);export{d as __pageData,b as default};
